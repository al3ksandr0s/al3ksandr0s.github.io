<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üÉè Memory Card Challenge</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <!-- Sfondo decorativo -->
    <div class="hearts-bg" id="heartsBg"></div>

    <div class="container">
        <header class="header">
            <h1 class="title">üÉè Memory Card Challenge</h1>
            <p class="subtitle">Sfida i tuoi amici!</p>
        </header>

        <!-- SCHERMATA MENU -->
        <div class="screen active" id="menuScreen">
            <div class="menu-options">
                <div class="mode-card" id="challengeModeBtn">
                    <div class="mode-icon">üéØ</div>
                    <div class="mode-title">Challenge Code</div>
                    <div class="mode-desc">Crea una sfida e invia il codice a un amico</div>
                </div>
                <div class="mode-card" id="duelModeBtn">
                    <div class="mode-icon">‚öîÔ∏è</div>
                    <div class="mode-title">Duel Locale</div>
                    <div class="mode-desc">Sfida un amico sullo stesso dispositivo a turni</div>
                </div>
            </div>
        </div>

        <!-- SCHERMATA CHALLENGE MENU -->
        <div class="screen" id="challengeMenu">
            <div class="menu-options">
                <div class="mode-card" id="createChallengeBtn">
                    <div class="mode-icon">üÜï</div>
                    <div class="mode-title">Crea Sfida</div>
                    <div class="mode-desc">Gioca e genera un codice da condividere</div>
                </div>
                <div class="mode-card" id="joinChallengeBtn">
                    <div class="mode-icon">üîë</div>
                    <div class="mode-title">Inserisci Codice</div>
                    <div class="mode-desc">Hai ricevuto un codice? Sfida il tuo amico!</div>
                </div>
            </div>
            <button class="btn secondary small" id="backToMenuBtn1">
                ‚¨ÖÔ∏è Torna al menu
            </button>
        </div>

        <!-- SCHERMATA INSERISCI CODICE -->
        <div class="screen" id="enterCode">
            <div class="info-box">
                üìù Inserisci il codice sfida che hai ricevuto dal tuo amico
            </div>
            <div class="code-input-container">
                <input type="text" class="code-input" id="challengeCodeInput" placeholder="ES: A1B2-12345-15-30" maxlength="20">
            </div>
            <button class="btn" id="startChallengeBtn">
                üéÆ Inizia Sfida
            </button>
            <button class="btn secondary small" id="backToChallengeMenuBtn">
                ‚¨ÖÔ∏è Indietro
            </button>
            <div id="codeError" class="error-message"></div>
        </div>

        <!-- SCHERMATA DUEL SETUP -->
        <div class="screen" id="duelSetup">
            <div class="info-box">
                ‚öîÔ∏è <strong>Duel Mode a Turni</strong><br><br>
                üéÆ Giocatore 1 inizia<br>
                ‚úÖ Se trovi una coppia, continui a giocare<br>
                ‚ùå Se sbagli, passa al Giocatore 2<br>
                üèÜ Vince chi fa meno mosse totali!
            </div>
            <button class="btn" id="startDuelBtn">
                üéÆ Inizia Duel
            </button>
            <button class="btn secondary small" id="backToMenuBtn2">
                ‚¨ÖÔ∏è Torna al menu
            </button>
        </div>

        <!-- SCHERMATA GIOCO CHALLENGE -->
        <div class="screen" id="challengeGame">
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-label">Mosse</div>
                    <div class="stat-value" id="movesCount">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Tempo</div>
                    <div class="stat-value" id="timeCount">0s</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Coppie</div>
                    <div class="stat-value" id="pairsCount">0/8</div>
                </div>
            </div>
            <div class="cards-grid" id="challengeCardsGrid"></div>
        </div>

        <!-- SCHERMATA GIOCO DUEL -->
        <div class="screen" id="duelGame">
            <div class="turn-indicator" id="turnIndicator">üéÆ Turno: Giocatore 1</div>
            <div class="duel-stats">
                <div class="player-stat active" id="player1Stat">
                    <div class="player-name">Giocatore 1</div>
                    <div class="player-score" id="player1Moves">0</div>
                    <div class="stat-label">mosse</div>
                </div>
                <div class="player-stat" id="player2Stat">
                    <div class="player-name">Giocatore 2</div>
                    <div class="player-score" id="player2Moves">0</div>
                    <div class="stat-label">mosse</div>
                </div>
            </div>
            <div class="game-stats" style="max-width: 200px;">
                <div class="stat">
                    <div class="stat-label">Coppie trovate</div>
                    <div class="stat-value" id="duelPairsCount">0/8</div>
                </div>
            </div>
            <div class="cards-grid" id="duelCardsGrid"></div>
        </div>

        <!-- SCHERMATA RISULTATO CHALLENGE -->
        <div class="screen" id="challengeResult">
            <div class="results-container">
                <div class="results-title" id="resultTitle">üéâ Complimenti!</div>
                <div class="results-stats">
                    <div class="result-item">
                        <div class="result-value" id="finalMoves">0</div>
                        <div class="result-label">Mosse</div>
                    </div>
                    <div class="result-item">
                        <div class="result-value" id="finalTime">0s</div>
                        <div class="result-label">Tempo</div>
                    </div>
                </div>
                <div class="challenge-code" id="generatedCode">
                    <div class="code-label">üì§ Condividi questo codice con un amico:</div>
                    <div class="code-value" id="codeDisplay"></div>
                    <button class="btn small copy-btn" id="copyCodeBtn">üìã Copia Codice</button>
                </div>
                <div id="challengeComparison">
                    <div class="info-box" id="comparisonResult"></div>
                </div>
            </div>
            <button class="btn" id="backToMenuBtn3">üè† Menu Principale</button>
        </div>

        <!-- SCHERMATA RISULTATO DUEL -->
        <div class="screen" id="duelResult">
            <div class="results-container">
                <div class="results-title" id="duelResultTitle">‚öîÔ∏è Risultato Duel</div>
                <div class="duel-results">
                    <div class="duel-player-result" id="p1Result">
                        <div class="winner-badge" id="p1Badge"></div>
                        <div class="player-name">Giocatore 1</div>
                        <div class="result-value" id="p1FinalMoves">0</div>
                        <div class="result-label">mosse</div>
                    </div>
                    <div class="duel-player-result" id="p2Result">
                        <div class="winner-badge" id="p2Badge"></div>
                        <div class="player-name">Giocatore 2</div>
                        <div class="result-value" id="p2FinalMoves">0</div>
                        <div class="result-label">mosse</div>
                    </div>
                </div>
            </div>
            <button class="btn" id="rematchBtn">üîÑ Rivincita</button>
            <button class="btn secondary" id="backToMenuBtn4">üè† Menu Principale</button>
        </div>

        <!-- SCHERMATA TRANSIZIONE DUEL (non pi√π usata ma mantenuta per compatibilit√†) -->
        <div class="screen" id="duelTransition">
            <div class="results-container">
                <div class="results-title">Giocatore 1 ha finito!</div>
                <div class="result-item" style="margin: 20px 0;">
                    <div class="result-value" id="p1TransitionMoves">0</div>
                    <div class="result-label">mosse</div>
                </div>
                <div class="info-box">
                    Passa il dispositivo al Giocatore 2<br>
                    Stessa disposizione carte, sfida a fare meglio!
                </div>
            </div>
            <button class="btn" id="startPlayer2Btn">‚ñ∂Ô∏è Turno Giocatore 2</button>
        </div>
    </div>

    <script type="module" src="./script.js"></script>
</body>

</html>
